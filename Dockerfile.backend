# Cannot use Python 3.10 https://stackoverflow.com/a/69474757/13231825
FROM python:3.9.9-slim 
RUN apt-get update -y
RUN apt-get upgrade -y
RUN apt-get install ffmpeg -y
COPY requirements.txt .
RUN pip3 install -r requirements.txt
COPY /backend .
EXPOSE 5000
CMD ["gunicorn", "-k", "eventlet", "-w", "3", "-b", ":5000", "--timeout=9999", "run:app"]